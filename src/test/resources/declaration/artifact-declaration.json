{
  "globalParameters": [
    {
      "elementName": "selectQuery",
      "value": {
        "parameters": {
          "sql": "select * from PLANET where name \u003d :name",
          "inputParameters": "#[mel:[\u0027name\u0027 : payload]]"
        },
        "typeId": "org.mule.extension.db.api.param.QueryDefinition"
      },
      "customParameters": [],
      "properties": {},
      "name": "query",
      "declaringExtension": "Database"
    }
  ],
  "configs": [
    {
      "connection": {
        "parameters": [
          {
            "poolingProfile": {
              "maxPoolSize": "10"
            }
          },
          {
            "connectionProperties": {
              "first": "propertyOne",
              "second": "propertyTwo"
            }
          },
          {
            "database": "target/muleEmbeddedDB"
          },
          {
            "create": "true"
          }
        ],
        "customParameters": [],
        "properties": {},
        "name": "derby-connection",
        "declaringExtension": "Database"
      },
      "elementName": "dbConfig",
      "parameters": [],
      "customParameters": [],
      "properties": {},
      "name": "config",
      "declaringExtension": "Database"
    },
    {
      "connection": {
        "parameters": [
          {
            "disableValidation": "true"
          },
          {
            "tlsContext": {
              "key-store": {
                "path": "ssltest-keystore.jks",
                "password": "changeit",
                "keyPassword": "changeit"
              }
            }
          },
          {
            "host": "localhost"
          },
          {
            "port": "49019"
          },
          {
            "protocol": "HTTPS"
          }
        ],
        "customParameters": [],
        "properties": {},
        "name": "listener-connection",
        "declaringExtension": "HTTP"
      },
      "elementName": "httpListener",
      "parameters": [
        {
          "basePath": "/"
        }
      ],
      "customParameters": [],
      "properties": {},
      "name": "listener-config",
      "declaringExtension": "HTTP"
    },
    {
      "connection": {
        "parameters": [
          {
            "host": "localhost"
          },
          {
            "port": "49020"
          },
          {
            "authentication": {
              "username": "user",
              "password": "pass",
              "typeId": "org.mule.extension.http.api.request.authentication.BasicAuthentication"
            }
          },
          {
            "clientSocketProperties": {
              "connectionTimeout": "1000",
              "keepAlive": "true",
              "receiveBufferSize": "1024",
              "sendBufferSize": "1024",
              "clientTimeout": "1000",
              "linger": "1000"
            }
          }
        ],
        "customParameters": [],
        "properties": {},
        "name": "request-connection",
        "declaringExtension": "HTTP"
      },
      "elementName": "httpRequester",
      "parameters": [],
      "customParameters": [],
      "properties": {},
      "name": "request-config",
      "declaringExtension": "HTTP"
    }
  ],
  "flows": [
    {
      "name": "testFlow",
      "declaringExtension": "Mule Core",
      "kind": "FLOW",
      "parameters": [
  {
    "initialState": "stopped"
  }
],
      "customParameters": [],
      "properties": {},
      "components": [
  {
    "name": "listener",
    "declaringExtension": "HTTP",
    "kind": "SOURCE",
    "parameters": [
  {
    "path": "testBuilder"
  },
  {
    "redeliveryPolicy": {
      "maxRedeliveryCount": "2",
      "secureHash": "true"
    }
  },
  {
    "reconnectionStrategy": {
      "blocking": "true",
      "count": "1",
      "frequency": "0",
      "typeId": "reconnect"
    }
  },
  {
    "response": {
      "headers": "#[{{\u0027content-type\u0027 : \u0027text/plain\u0027}}]"
    }
  }
],
    "customParameters": [],
    "properties": {},
    "configRef": "httpListener"
  },
  {
    "name": "choice",
    "declaringExtension": "Mule Core",
    "kind": "ROUTER",
    "parameters": [],
    "customParameters": [],
    "properties": {},
    "routes": [
      {
        "name": "when",
        "declaringExtension": "Mule Core",
        "kind": "ROUTE",
        "parameters": [
  {
    "expression": "#[true]"
  }
],
        "customParameters": [],
        "properties": {},
        "components": [
  {
    "name": "bulkInsert",
    "declaringExtension": "Database",
    "kind": "OPERATION",
    "parameters": [
  {
    "sql": "INSERT INTO PLANET(POSITION, NAME) VALUES (:position, :name)"
  },
  {
    "parameterTypes": [
      {
        "key": "name",
        "type": "VARCHAR"
      },
      {
        "key": "position",
        "type": "INTEGER"
      }
    ]
  }
],
    "customParameters": [],
    "properties": {}
  }
]
      },
      {
        "name": "otherwise",
        "declaringExtension": "Mule Core",
        "kind": "ROUTE",
        "parameters": [],
        "customParameters": [],
        "properties": {},
        "components": [
  {
    "name": "logger",
    "declaringExtension": "Mule Core",
    "kind": "OPERATION",
    "parameters": [
  {
    "message": "#[payload]"
  }
],
    "customParameters": [],
    "properties": {}
  }
]
      }
    ]
  },
  {
    "name": "bulkInsert",
    "declaringExtension": "Database",
    "kind": "OPERATION",
    "parameters": [
  {
    "sql": "INSERT INTO PLANET(POSITION, NAME) VALUES (:position, :name)"
  },
  {
    "parameterTypes": [
      {
        "key": "name",
        "type": "VARCHAR"
      },
      {
        "key": "position",
        "type": "INTEGER"
      }
    ]
  }
],
    "customParameters": [],
    "properties": {}
  },
  {
    "name": "request",
    "declaringExtension": "HTTP",
    "kind": "OPERATION",
    "parameters": [
  {
    "path": "/nested"
  },
  {
    "method": "POST"
  }
],
    "customParameters": [],
    "properties": {},
    "configRef": "httpRequester"
  },
  {
    "name": "insert",
    "declaringExtension": "Database",
    "kind": "OPERATION",
    "parameters": [
  {
    "sql": "INSERT INTO PLANET(POSITION, NAME, DESCRIPTION) VALUES (777, \u0027Pluto\u0027, :description)"
  },
  {
    "parameterTypes": [
      {
        "key": "description",
        "type": "CLOB"
      }
    ]
  },
  {
    "inputParameters": "#[{{\u0027description\u0027 : payload}}]"
  }
],
    "customParameters": [],
    "properties": {},
    "configRef": "dbConfig"
  },
  {
    "name": "sendAndReceive",
    "declaringExtension": "Sockets",
    "kind": "OPERATION",
    "parameters": [
  {
    "target": "myVar"
  },
  {
    "streamingStrategy": {
      "bufferSizeIncrement": "8",
      "bufferUnit": "KB",
      "initialBufferSize": "51",
      "maxInMemorySize": "1000",
      "typeId": "repeatable-in-memory-stream"
    }
  }
],
    "customParameters": [],
    "properties": {}
  }
]
    }
  ],
  "customParameters": [],
  "properties": {}
}
